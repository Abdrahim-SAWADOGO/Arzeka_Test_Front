<div class="history-container">
  <h2>Historique des paiements</h2>

  <div *ngIf="loading">Chargement...</div>

  <table *ngIf="!loading && transactions.length">
    <thead>
      <tr>
        <th>Date</th>
        <th>Nom</th>
        <th>Montant</th>
        <th>Statut</th>
        <th>Comptable</th>
        <th>Quittance</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let tx of transactions">
        <td>{{ tx.created_at | date:'short' }}</td>
        <td>{{ tx.additional_info.firstname }} {{ tx.additional_info.lastname }}</td>
        <td>{{ tx.amount }} FCFA</td>
        <td [ngClass]="tx.status">{{ tx.status }}</td>
        <td>{{ tx.accountant_name || 'â€”' }}</td>
        <td>
          <span *ngIf="tx.generate_receipt">ðŸ§¾ Oui</span>
          <span *ngIf="!tx.generate_receipt">â€”</span>
        </td>
      </tr>
    </tbody>
  </table>

  <div *ngIf="!loading && !transactions.length">Aucun paiement enregistrÃ©.</div>
</div>
